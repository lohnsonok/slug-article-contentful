<!doctype html><head><link href="https://static.contentful.com/app/main-62e0abc7.css" media="all" rel="stylesheet" type="text/css"><link href="https://static.contentful.com/app/vendor-976872d7.css" media="all" rel="stylesheet" type="text/css"><link href="https://contentful.github.io/ui-extensions-sdk/cf-extension.css" media="all" rel="stylesheet" type="text/css"><script type="text/javascript" src="https://unpkg.com/contentful-ui-extensions-sdk@3"></script></head><div class="widget-slug-editor"> <input id="slug" type="text" class="form-control" style="width:98%;font-size:14px"> <i id="error" class="fa fa-exclamation-triangle is-slug-duplicate"></i> <i id="ok" class="fa fa-check-circle is-slug-unique"></i> <i id="loading" class="fa fa-spinner fa-spin"></i>
</div><script src="https://cdnjs.cloudflare.com/ajax/libs/es6-promise/3.0.2/es6-promise.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.10.1/lodash.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/speakingurl/7.0.0/speakingurl.min.js"></script><script>var e=window.contentfulExtension||window.contentfulWidget;e.init((function(e){var n=e.field,t=e.contentType.displayField,i=e.entry.fields[t],o=window._,d=window.getSlug,u=o.debounce(a,500),l=document.getElementById("slug"),r={error:document.getElementById("error"),ok:document.getElementById("ok"),loading:document.getElementById("loading")};function s(e){var t,i;i="/article/"+(t=d(e||"")),l.value=i,n.setValue(t),c("loading"),u(t)}function a(t){(function(t){if(!t)return Promise.resolve(!1);var i={};return i.content_type=e.entry.getSys().contentType.sys.id,i["fields."+n.id]=t,i["sys.id[ne]"]=e.entry.getSys().id,i["sys.publishedAt[exists]"]=!0,e.space.getEntries(i).then((function(e){return e.total>0}))})(t).then((function(e){c(e?"error":"ok")}))}function c(e){o.each(r,(function(n,t){n.style.display=t===e?"inline":"none"}))}e.window.updateHeight(),i.onValueChanged(s),l.addEventListener("input",(function(){s(l.value)})),l.addEventListener("change",(function(){s(l.value)})),a(n.getValue())}));</script>